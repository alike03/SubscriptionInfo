const path=window.location.pathname;var triggerLimit=!1;if(""===path.split("/")[1])waitForElement(".home_page_content .maincap .carousel_items a[data-ds-appid]").then((function(){let e=[];function t(){let e=[];document.querySelectorAll(".page_content_ctn:not(.alike_sub_read)").forEach(t=>{t.classList.add("alike_sub_read"),t.querySelectorAll("[data-ds-appid]:not(.screenshot)").forEach(t=>{t.classList.contains("alike_sub")||(e.push(t.dataset.dsAppid),t.classList.add("alike_sub"))})}),getGameList(e,2),triggerLimit=!1}document.querySelectorAll(".home_page_content .carousel_items a[data-ds-appid],.home_page_content .carousel_items div[data-ds-appid],.home_page_content .store_capsule_frame a[data-ds-appid],.home_page_content .home_tabs_content .tab_content a[data-ds-appid],.home_page_content .marketingmessage_container a[data-ds-appid]").forEach(t=>{t.classList.contains("alike_sub")||(e.push(t.dataset.dsAppid),t.classList.add("alike_sub"))}),getGameList(e,1),document.addEventListener("scroll",(function(){limitFunction(t)}))}));else if("search"===path.split("/")[1])waitForElement(".search_results #search_result_container #search_resultsRows").then((function(){function e(){let e=[];document.querySelectorAll("#search_resultsRows a[data-ds-appid]:not(.alike_sub)").forEach(t=>{t.classList.contains("alike_sub")||(e.push(t.dataset.dsAppid),t.classList.add("alike_sub"))}),getGameList(e,4),triggerLimit=!1}window.addEventListener("popstate",(function(){limitFunction(e)})),document.addEventListener("scroll",(function(){limitFunction(e)})),document.getElementById("advsearchform").addEventListener("submit",(function(){limitFunction(e)})),document.getElementById("advsearchform").addEventListener("keyup",(function(t){13===t.key&&limitFunction(e)})),e()}));else if("wishlist"===path.split("/")[1])waitForElement(".page_content #wishlist_ctn .wishlist_row").then((function(){function e(){let e=[];Array.from(document.getElementById("wishlist_ctn").children).forEach(t=>{t.classList.contains("alike_sub")||(e.push(t.dataset.appId),t.classList.add("alike_sub"))}),getGameList(e,5),triggerLimit=!1}document.getElementById("wishlist_search").addEventListener("keyup",(function(){limitFunction(e)})),document.addEventListener("scroll",(function(){limitFunction(e)})),e()}));else if("app"===path.split("/")[1]){let e=path.split("/")[2];transferData(0,"v="+version.replaceAll(".","-")+"&id="+e,(function(e){response=JSON.parse(e)[0],waitForElement(".page_content_ctn > .block .queue_overflow_ctn").then((function(){addSubInfo(3,response)}))})),waitForElement(".release_date .date").then((function(t){transferData(1,"v="+version.replaceAll(".","-")+"&type=info&id="+e+"&date="+t.textContent)}))}else if("developer"===path.split("/")[1]||"publisher"===path.split("/")[1]||"curator"===path.split("/")[1]){function filterDev(){let e=[];document.querySelectorAll("a[data-ds-appid]:not(.alike_sub)").forEach(t=>{t.classList.contains("alike_sub")||(e.push(t.dataset.dsAppid),t.classList.add("alike_sub"))}),getGameList(e,1),triggerLimit=!1}document.addEventListener("scroll",(function(){limitFunction(filterDev)})),filterDev()}function getGameList(e,t){let a=[...new Set(e.filter(Boolean))];a.length>0&&transferData(0,"v="+version.replaceAll(".","-")+"&id="+a.toString(),(function(e){response=JSON.parse(e),response.forEach(e=>{addSubInfo(t,e)})}))}function limitFunction(e){triggerLimit||(triggerLimit=!0,setTimeout((function(){e()}),700))}function addSubInfo(e,t){if(void 0===t||Object.keys(t.subs).length<1)return!1;let a=document.createElement("div");for(const[n,i]of Object.entries(t.subs)){let s=document.createElement("div");if(s.setAttribute("class","sub_flag "+i.status+" "+n),s.innerText=alike_lang.flag[i.status](n),a.appendChild(s),3===e){let e=document.createElement("div");e.setAttribute("class","sub_text "+i.status+" "+n),e.innerHTML="<span>"+alike_lang.long[i.status](n,t.name,i.date)+"</span>",a.appendChild(e)}}switch(a.setAttribute("class","alike_cont type-"+e),e){case 1:parent='.alike_sub[data-ds-appid="'+t.sid+'"]';break;case 2:parent='div:not(.alike_sub_read) .alike_sub[data-ds-appid="'+t.sid+'"]';break;case 3:parent=".page_content_ctn > .block .queue_overflow_ctn";break;case 4:parent='.alike_sub[data-ds-appid="'+t.sid+'"] .search_name p';break;case 5:parent='div.alike_sub[data-app-id="'+t.sid+'"]';break;default:return!1;break}document.querySelectorAll(parent).forEach(e=>{if(!e.querySelector(".alike_cont")){let t=a.cloneNode(!0);e.appendChild(t)}})}